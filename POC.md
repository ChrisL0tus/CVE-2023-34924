# H3C-Magic-B1STW

## Vulnerability:
The function of **SetAPInfoById**

![pic](assets/func1.png)

![pic](assets/func2.png)

This `SetAPInfoById` function has an dangerous function call that is `sscanf`, which will commonly arise the buffer over flow exploitation.
The `v8` is from the body of http request, specifically, the value of key `param`. And the target buffer v19 is on the stack of this function and there's no canary protection. Thus we can over write the buffer with a long string in http body.
We can simply cause the crash of the web server. More dangerously, get the shell.
Now I would just show the crash.

## POC
![pic](assets/poc.png)
The log of  web server restart (after crashed):
![pic](assets/log.png)
